1.  in views/layouts/_script 

<script>
    $('.star-rating').raty({
      path: '/assets/',
      readOnly: true,
      score: function() {
      return $(this).attr('data-score');
    }
  });
</script>

2.  controllers/restaurant_controller

  def show
    @restaurant = Restaurant.find(params[:id])
    @reviews = Review.where(restaurant_id: @restaurant) 
    if @reviews.blank?
      @average_rating = 0
    else
      @average_rating = @reviews.average(:rating).round(2)
    end
  end 

3.  views/reviews/new

<%= f.input :rating, value: 1, min: 1, max: 5 %>

4. views/restaurants/show

<span class="star-rating" data-score=<%= @average_rating %>>
                  
</span>
